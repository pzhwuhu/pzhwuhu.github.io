<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="light"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/avatar_1.jpg"><link rel="icon" href="/img/avatar_1.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="pzhwuhu"><meta name="keywords" content=""><meta name="description" content="这是我复习《UNIX系统》这门课程时记录的一些笔记 ，希望能对你有所帮助😊             i 节点 理解 i 节点能帮助你更深入掌握 Linux 文件系统的工作原理！  在 Linux&#x2F;Unix 文件系统中，i 节点（inode） 是文件系统的核心数据结构，它存储了文件的元数据（metadata），但&#x3D;&#x3D;不包含文件名或文件内容本身"><meta property="og:type" content="article"><meta property="og:title" content="UNIX系统复习-2"><meta property="og:url" content="http://pzhwuhu.github.io/2025/05/30/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-2/index.html"><meta property="og:site_name" content="鹏哥"><meta property="og:description" content="这是我复习《UNIX系统》这门课程时记录的一些笔记 ，希望能对你有所帮助😊             i 节点 理解 i 节点能帮助你更深入掌握 Linux 文件系统的工作原理！  在 Linux&#x2F;Unix 文件系统中，i 节点（inode） 是文件系统的核心数据结构，它存储了文件的元数据（metadata），但&#x3D;&#x3D;不包含文件名或文件内容本身"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://pzhwuhu.github.io/myimg/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97.png"><meta property="article:published_time" content="2025-05-30T02:27:21.000Z"><meta property="article:modified_time" content="2025-05-30T11:37:57.790Z"><meta property="article:author" content="pzhwuhu"><meta property="article:tag" content="Linux"><meta property="article:tag" content="UNIX"><meta property="article:tag" content="复习"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="http://pzhwuhu.github.io/myimg/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97.png"><title>UNIX系统复习-2 - 鹏哥</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/custom_dark_mode.css"><link rel="stylesheet" href="/css/scroll_animation.css"><link rel="stylesheet" href="/css/mac.css"><link rel="stylesheet" href="/css/loading.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/gradient.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"pzhwuhu.github.io",root:"/",version:"1.9.8",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!1,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:{key:null},google:{measurement_id:null},tencent:{sid:null,cid:null},leancloud:{app_id:"cp3oK6SJdvk7QCx0TiMpNSdI-gzGzoHsz",app_key:"B9u5rSWtXwzrQl56fuCE0o9M",server_url:"https://cp3ok6sj.lc-cn-n1-shared.com",path:"window.location.pathname",ignore_local:!1},umami:{src:null,website_id:null,domains:null,start_time:"2024-01-01T00:00:00.000Z",token:null,api_server:null}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>if(!Fluid.ctx.dnt){var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?[object Object]";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}</script><meta name="generator" content="Hexo 7.3.0"></head><body><header><div class="header-inner" style="height:90vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>身如芥子，心藏须弥</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url('/myimg/%E5%A4%A7%E9%B1%BC%E6%B5%B7%E6%A3%A03.jpg') no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="UNIX系统复习-2"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> pzhwuhu </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2025-05-30 10:27" pubdate>2025年5月30日 上午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.7k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 31 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Linux" id="heading-edc9f0a5a5d57797bf68e37364743831" role="tab" data-toggle="collapse" href="#collapse-edc9f0a5a5d57797bf68e37364743831" aria-expanded="true">Linux <span class="list-group-count">(4)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-edc9f0a5a5d57797bf68e37364743831" role="tabpanel" aria-labelledby="heading-edc9f0a5a5d57797bf68e37364743831"><div class="category-post-list"><a href="/2025/05/27/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-1/" title="UNIX系统复习-1" class="list-group-item list-group-item-action"><span class="category-post">UNIX系统复习-1</span> </a><a href="/2025/05/30/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-2/" title="UNIX系统复习-2" class="list-group-item list-group-item-action active"><span class="category-post">UNIX系统复习-2</span> </a><a href="/2025/05/31/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-3/" title="UNIX系统复习-3" class="list-group-item list-group-item-action"><span class="category-post">UNIX系统复习-3</span> </a><a href="/2025/05/31/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-4/" title="UNIX系统复习-4" class="list-group-item list-group-item-action"><span class="category-post">UNIX系统复习-4</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">UNIX系统复习-2</h1><div class="markdown-body"><div class="note note-info"><p>这是我复习《UNIX系统》这门课程时记录的一些笔记 ，希望能对你有所帮助😊</p></div><h1 id="i-节点"><a href="#i-节点" class="headerlink" title="i 节点"></a>i 节点</h1><blockquote><p>理解 i 节点能帮助你更深入掌握 Linux 文件系统的工作原理！</p></blockquote><p>在 Linux&#x2F;Unix 文件系统中，<strong>i 节点（inode）</strong> 是文件系统的核心数据结构，它存储了文件的<strong>元数据</strong>（metadata），但&#x3D;&#x3D;不包含文件名或文件内容本身&#x3D;&#x3D;</p><hr><h2 id="1-i-节点的基本概念"><a href="#1-i-节点的基本概念" class="headerlink" title="1. i 节点的基本概念"></a><strong>1. i 节点的基本概念</strong></h2><h3 id="（1）文件的组成"><a href="#（1）文件的组成" class="headerlink" title="（1）文件的组成"></a><strong>（1）文件的组成</strong></h3><p>每个文件在文件系统中由 <strong>3 部分</strong>组成：</p><ol><li><strong>文件名</strong>（File Name）：用户可见的名称（如 <code>file1</code>）。</li><li><strong>i 节点</strong>（inode）：存储文件的元数据（权限、所有者、时间戳、数据块位置等）。</li><li><strong>文件内容</strong>（Data Blocks）：实际存储文件数据的磁盘块。</li></ol><h3 id="（2）查看文件的-i-节点"><a href="#（2）查看文件的-i-节点" class="headerlink" title="（2）查看文件的 i 节点"></a><strong>（2）查看文件的 i 节点</strong></h3><p>使用 <code>ls -il</code> 可以查看文件的 i 节点编号：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">ls</span> -il<br>1234567 -rw-r--r-- 1 user group 1024 Jan 1 10:00 file1<br></code></pre></td></tr></table></figure><ul><li><strong><code>1234567</code></strong> 是 <code>file1</code> 的 i 节点编号。</li><li>其他信息（权限、所有者、大小、时间等）均存储在 i 节点中。</li></ul><hr><h2 id="2-i-节点中存储的信息"><a href="#2-i-节点中存储的信息" class="headerlink" title="2. i 节点中存储的信息"></a><strong>2. i 节点中存储的信息</strong></h2><p>每个 i 节点包含以下关键信息（通过 <code>stat</code> 命令可查看）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">stat</span> file1<br>  File: file1<br>  Size: 1024        Blocks: 8          IO Block: 4096   regular file<br>Device: 801h/2049d  Inode: 1234567     Links: 1<br>Access: 2024-01-01 10:00:00.000000000 +0800<br>Modify: 2024-01-01 10:00:00.000000000 +0800<br>Change: 2024-01-01 10:00:00.000000000 +0800<br> Birth: -<br></code></pre></td></tr></table></figure><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><strong>Inode 编号</strong></td><td>文件的唯一标识（如 <code>1234567</code>）。</td></tr><tr><td><strong>文件类型</strong></td><td>普通文件、目录、符号链接等。</td></tr><tr><td><strong>权限（Mode）</strong></td><td>如 <code>-rw-r--r--</code>（对应数字 <code>644</code>）。</td></tr><tr><td><strong>所有者（UID）</strong></td><td>文件属主的用户 ID。</td></tr><tr><td><strong>所属组（GID）</strong></td><td>文件属组的组 ID。</td></tr><tr><td><strong>硬链接数（Links）</strong></td><td>指向该 i 节点的文件名数量（见下文）。</td></tr><tr><td><strong>文件大小</strong></td><td>字节数（如 <code>1024</code>）。</td></tr><tr><td><strong>时间戳</strong></td><td>访问时间（<code>atime</code>）、修改时间（<code>mtime</code>）、状态变更时间（<code>ctime</code>）。</td></tr><tr><td><strong>数据块位置</strong></td><td>文件内容存储在磁盘的哪些块中。</td></tr></tbody></table><hr><h2 id="3-硬链接（Hard-Link）与-i-节点的关系"><a href="#3-硬链接（Hard-Link）与-i-节点的关系" class="headerlink" title="3. 硬链接（Hard Link）与 i 节点的关系"></a><strong>3. 硬链接（Hard Link）与 i 节点的关系</strong></h2><h3 id="（1）创建硬链接"><a href="#（1）创建硬链接" class="headerlink" title="（1）创建硬链接"></a><strong>（1）创建硬链接</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">ln</span> file1 file2  <span class="hljs-comment"># 为 file1 的 i 节点增加一个新文件名 file2</span><br></code></pre></td></tr></table></figure><ul><li><strong>本质</strong>：<code>file1</code> 和 <code>file2</code> 指向同一个 i 节点（如 <code>1234567</code>）。</li><li><strong>效果</strong>：<ul><li>i 节点的 <strong>硬链接计数（Links）</strong> 从 <code>1</code> 变为 <code>2</code>。</li><li><strong>修改 <code>file1</code> 或 <code>file2</code> 会同步更改文件内容（因为指向同一数据块）</strong>！！！</li></ul></li></ul><h3 id="（2）删除硬链接"><a href="#（2）删除硬链接" class="headerlink" title="（2）删除硬链接"></a><strong>（2）删除硬链接</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">rm</span> file2  <span class="hljs-comment"># 删除文件名 file2</span><br></code></pre></td></tr></table></figure><ul><li><strong>本质</strong>：仅删除 <code>file2</code> 这个文件名，i 节点（<code>1234567</code>）和数据块仍存在。</li><li><strong>效果</strong>：<ul><li>i 节点的硬链接计数从 <code>2</code> 变回 <code>1</code>（<code>file1</code> 仍指向它）。</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">rm</span> file1  <span class="hljs-comment"># 删除最后一个文件名 file1</span><br></code></pre></td></tr></table></figure><ul><li><strong>本质</strong>：i 节点的硬链接计数降为 <code>0</code>，系统自动回收该 i 节点及其数据块。</li></ul><hr><h2 id="4-i-节点-vs-文件名"><a href="#4-i-节点-vs-文件名" class="headerlink" title="4. i 节点 vs 文件名"></a><strong>4. i 节点 vs 文件名</strong></h2><table><thead><tr><th>行为</th><th>对 i 节点的影响</th></tr></thead><tbody><tr><td><strong>创建文件</strong></td><td>分配一个空闲 i 节点，初始化元数据，硬链接计数设为 <code>1</code>。</td></tr><tr><td><strong>创建硬链接</strong></td><td>i 节点的硬链接计数 <code>+1</code>（多个文件名共享同一 i 节点）。</td></tr><tr><td><strong>删除文件</strong></td><td>i 节点的硬链接计数 <code>-1</code>；若计数为 <code>0</code>，则释放 i 节点和数据块。</td></tr><tr><td><strong>修改文件内容</strong></td><td>更新 i 节点中的 <code>mtime</code> 和 <code>ctime</code>，但 i 节点编号不变。</td></tr><tr><td><strong>重命名文件</strong></td><td>仅修改文件名记录，不影响 i 节点。</td></tr></tbody></table><hr><h2 id="5-关键结论"><a href="#5-关键结论" class="headerlink" title="5. 关键结论"></a><strong>5. 关键结论</strong></h2><ol><li><strong>i 节点是文件的唯一标识</strong><ul><li><strong>文件名只是 i 节点的“别名”，同一个文件可以有多个文件名（硬链接）</strong></li></ul></li><li><strong>删除文件的实际过程</strong><ul><li><code>rm</code> 只是减少 i 节点的硬链接计数，计数为 <code>0</code> 时才会真正删除文件。</li></ul></li><li><strong>硬链接的限制</strong><ul><li>不能跨文件系统（因为 i 节点编号仅在同一个文件系统内唯一）。</li><li>不能对目录创建硬链接（防止循环引用导致文件系统混乱）。</li></ul></li></ol><hr><h2 id="6-扩展命令"><a href="#6-扩展命令" class="headerlink" title="6. 扩展命令"></a><strong>6. 扩展命令</strong></h2><table><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td><code>ls -i</code></td><td>显示文件的 i 节点编号。</td></tr><tr><td><code>df -i</code></td><td>查看文件系统的 i 节点使用情况。</td></tr><tr><td><code>find / -inum 1234</code></td><td>通过 i 节点编号查找文件。</td></tr></tbody></table><hr><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h3><ul><li><strong>i 节点是文件的“身份证”</strong>，存储元数据但不含文件名或内容。</li><li><strong>硬链接</strong>是多个文件名共享同一 i 节点，<strong>软链接（符号链接）</strong>则是&#x3D;&#x3D;独立的文件（有自己的 i 节点）,存储目标文件的路径（字符串）&#x3D;&#x3D;</li><li>文件删除的本质是 <strong>减少 i 节点的硬链接计数</strong>，计数归零后系统才会回收资源。</li></ul><h1 id="文件编辑与流处理"><a href="#文件编辑与流处理" class="headerlink" title="文件编辑与流处理"></a>文件编辑与流处理</h1><h2 id="ed编辑器"><a href="#ed编辑器" class="headerlink" title="ed编辑器"></a>ed编辑器</h2><p><code>ed</code> 是 Unix 历史上的里程碑式行编辑器，由 Ken Thompson 在 1970 年开发，其设计哲学深刻影响了后续工具（如 <code>sed</code>、<code>vim</code>）。以下是结合您提供的资料的系统性总结：</p><hr><h3 id="一、ed-的核心优势"><a href="#一、ed-的核心优势" class="headerlink" title="一、ed 的核心优势"></a><strong>一、ed 的核心优势</strong></h3><ol><li><p><strong>极简主义</strong></p><ul><li>仅需 <strong>几 KB 内存</strong> 即可运行，适合救援模式或嵌入式系统。</li><li>无图形界面，所有操作通过<strong>命令驱动</strong>，可通过管道脚本化编辑。</li></ul></li><li><p><strong>正则表达式先驱</strong></p><ul><li>其正则语法（如 <code>s/old/new/</code>）被 <code>sed</code>、<code>grep</code>、<code>perl</code> 等工具继承，成为业界标准。</li></ul></li><li><p><strong>高效处理</strong></p><ul><li>直接按行操作，避免全文件加载，处理大文件时速度显著优于现代编辑器。</li></ul></li></ol><hr><h3 id="二、核心命令详解（按功能分类）"><a href="#二、核心命令详解（按功能分类）" class="headerlink" title="二、核心命令详解（按功能分类）"></a><strong>二、核心命令详解（按功能分类）</strong></h3><h4 id="1-导航与显示"><a href="#1-导航与显示" class="headerlink" title="1. 导航与显示"></a><strong>1. 导航与显示</strong></h4><table><thead><tr><th>命令</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>n</code></td><td>跳转到第 n 行</td><td><code>5</code> → 跳转到第 5 行</td></tr><tr><td><code>.+3</code></td><td>相对行号（当前行+3）</td><td><code>.,.+5p</code> → 显示后续 5 行</td></tr><tr><td><code>$</code></td><td>最后一行</td><td><code>$p</code> → 显示末行</td></tr><tr><td><code>,p</code></td><td>显示全部内容</td><td><code>1,$p</code> 等效</td></tr></tbody></table><h4 id="2-编辑操作"><a href="#2-编辑操作" class="headerlink" title="2. 编辑操作"></a><strong>2. 编辑操作</strong></h4><table><thead><tr><th>命令</th><th>作用</th><th>结束符</th></tr></thead><tbody><tr><td><code>a</code></td><td>当前行后追加</td><td>独占一行的 <code>.</code></td></tr><tr><td><code>i</code></td><td>当前行前插入</td><td>同上</td></tr><tr><td><code>m,nd</code></td><td>删除 m 到 n 行</td><td>无</td></tr><tr><td><code>u</code></td><td>撤销最后一次编辑</td><td>仅支持一级撤销</td></tr></tbody></table><h4 id="3-搜索与替换"><a href="#3-搜索与替换" class="headerlink" title="3. 搜索与替换"></a><strong>3. 搜索与替换</strong></h4><table><thead><tr><th>命令</th><th>关键细节</th><th>示例</th></tr></thead><tbody><tr><td><code>/pattern/</code></td><td>向后搜索，循环至文件尾</td><td><code>/main/</code> → 跳转到下一个 “main”</td></tr><tr><td><code>?pattern?</code></td><td>向前搜索，循环至文件头</td><td><code>?int?</code> → 向上找 “int”</td></tr><tr><td><code>s/old/new/[g]</code></td><td><code>g</code> 表示全局替换</td><td><code>s/cat/dog/g</code> → 替换所有 “cat”</td></tr><tr><td><code>&amp;</code> 占位符</td><td>引用匹配的文本</td><td><code>s/big/very &amp;/</code> → “big” → “very big”</td></tr></tbody></table><h4 id="4-文件操作"><a href="#4-文件操作" class="headerlink" title="4. 文件操作"></a><strong>4. 文件操作</strong></h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>w [file]</code></td><td>保存（可另存为）</td></tr><tr><td><code>q</code></td><td>安全退出（未保存时提示）</td></tr><tr><td><code>Q</code></td><td>强制退出（不保存）</td></tr><tr><td><code>!cmd</code></td><td>临时执行 shell 命令（如 <code>!ls</code>）</td></tr></tbody></table><hr><h3 id="三、经典使用场景"><a href="#三、经典使用场景" class="headerlink" title="三、经典使用场景"></a><strong>三、经典使用场景</strong></h3><h4 id="1-脚本化编辑"><a href="#1-脚本化编辑" class="headerlink" title="1. 脚本化编辑"></a><strong>1. 脚本化编辑</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 通过管道批量替换文件内容</span><br><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;1,\$s/foo/bar/g\nwq&quot;</span> | ed file.txt<br></code></pre></td></tr></table></figure><h4 id="2-精准行操作"><a href="#2-精准行操作" class="headerlink" title="2. 精准行操作"></a><strong>2. 精准行操作</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 删除包含 &quot;debug&quot; 的行及其后 2 行</span><br><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;/debug/,+2d\nwq&quot;</span> | ed log.txt<br></code></pre></td></tr></table></figure><h4 id="3-正则表达式测试"><a href="#3-正则表达式测试" class="headerlink" title="3. 正则表达式测试"></a><strong>3. 正则表达式测试</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 测试正则匹配范围（显示首次 &quot;error&quot; 到文件末尾）</span><br><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;/error/,\$p\nq&quot;</span> | ed app.log<br></code></pre></td></tr></table></figure><hr><h3 id="四、与现代工具对比"><a href="#四、与现代工具对比" class="headerlink" title="四、与现代工具对比"></a><strong>四、与现代工具对比</strong></h3><table><thead><tr><th>特性</th><th><code>ed</code></th><th><code>sed</code>&#x2F;<code>vim</code></th></tr></thead><tbody><tr><td><strong>交互性</strong></td><td>极低（纯命令）</td><td>中&#x2F;高</td></tr><tr><td><strong>学习曲线</strong></td><td>陡峭</td><td>中等</td></tr><tr><td><strong>适用场景</strong></td><td>脚本化、救援模式</td><td>日常编辑</td></tr><tr><td><strong>正则支持</strong></td><td>基础</td><td>扩展（如 <code>\d</code>）</td></tr></tbody></table><hr><h3 id="五、操作流程图解"><a href="#五、操作流程图解" class="headerlink" title="五、操作流程图解"></a><strong>五、操作流程图解</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">启动 ed → [命令模式] <br>  ├─ 导航 (n, $, .) <br>  ├─ 编辑 (a/i, d, s) <br>  ├─ 搜索 (/pattern/, ?pattern?) <br>  └─ 保存退出 (wq)<br></code></pre></td></tr></table></figure><hr><h3 id="六、为什么今天仍值得了解？"><a href="#六、为什么今天仍值得了解？" class="headerlink" title="六、为什么今天仍值得了解？"></a><strong>六、为什么今天仍值得了解？</strong></h3><ol><li><strong>理解 Unix 哲学</strong>：<code>ed</code> 是“工具链组合”思想的典范（与 <code>grep</code>、<code>awk</code> 协同）。</li><li><strong>应急修复</strong>：当系统仅剩 <code>/bin/ed</code> 可用时，它是最后的编辑手段。</li><li><strong>历史教育</strong>：通过 <code>ed</code> 可直观看到现代编辑器的演进路径。</li></ol><p>若需快速上手实用编辑，推荐 <code>nano</code> 或 <code>vim</code>；但掌握 <code>ed</code> 如同学习汇编语言，能加深对计算本质的理解。</p><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="ed-正则表达式核心知识点"><a href="#ed-正则表达式核心知识点" class="headerlink" title="ed 正则表达式核心知识点"></a><strong>ed 正则表达式核心知识点</strong></h3><hr><h4 id="1-元字符与转义"><a href="#1-元字符与转义" class="headerlink" title="1. 元字符与转义"></a><strong>1. 元字符与转义</strong></h4><table><thead><tr><th>语法</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>普通字符</code></td><td>匹配自身（如 <code>a</code>、<code>1</code>）</td><td><code>cat</code> → 匹配 “cat”</td></tr><tr><td><code>\c</code></td><td>取消字符 <code>c</code> 的特殊意义</td><td><code>\*</code> → 匹配字面 <code>*</code></td></tr><tr><td><code>^</code></td><td><strong>行首</strong>（仅模式起始处有效）</td><td><code>^hello</code> → 行首的 “hello”</td></tr><tr><td><code>$</code></td><td><strong>行尾</strong>（仅模式结束处有效）</td><td><code>end$</code> → 行尾的 “end”</td></tr><tr><td><code>.</code></td><td>匹配<strong>任意单个字符</strong></td><td><code>a.c</code> → “abc”, “a c”</td></tr></tbody></table><hr><h4 id="2-字符类"><a href="#2-字符类" class="headerlink" title="2. 字符类"></a><strong>2. 字符类</strong></h4><table><thead><tr><th>语法</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>[...]</code></td><td>匹配括号内<strong>任一字符</strong></td><td><code>[aeiou]</code> → 任意元音</td></tr><tr><td><code>[^...]</code></td><td>匹配<strong>不在</strong>括号内的字符</td><td><code>[^0-9]</code> → 非数字</td></tr><tr><td><code>[a-z]</code></td><td>字符范围（支持连字符 <code>-</code>）</td><td><code>[A-Z]</code> → 大写字母</td></tr></tbody></table><hr><h4 id="3-重复与分组"><a href="#3-重复与分组" class="headerlink" title="3. 重复与分组"></a><strong>3. 重复与分组</strong></h4><table><thead><tr><th>语法</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>r*</code></td><td><strong>0 次或多次</strong>匹配 <code>r</code></td><td><code>a*</code> → “”, “a”, “aa”</td></tr><tr><td><code>.*</code></td><td>匹配<strong>任意长度字符串</strong></td><td><code>^a.*z$</code> → “a开头到z结尾的整行”</td></tr><tr><td><code>&amp;</code></td><td><strong>替换时</strong>引用匹配的文本</td><td><code>s/cat/&amp;s/</code> → “cat”→”cats”</td></tr></tbody></table><hr><h4 id="4-常用模式示例"><a href="#4-常用模式示例" class="headerlink" title="4. 常用模式示例"></a><strong>4. 常用模式示例</strong></h4><table><thead><tr><th>模式</th><th>匹配目标</th></tr></thead><tbody><tr><td><code>^$</code></td><td><strong>空行</strong>（开头即结尾）</td></tr><tr><td><code>^#</code></td><td>以 <code>#</code> 开头的行（如注释）</td></tr><tr><td><code>\.$</code></td><td>以点号结尾的行</td></tr><tr><td><code>/[tT]est/</code></td><td>“test” 或 “Test”</td></tr><tr><td><code>[0-9][0-9]*</code></td><td><strong>至少一个数字</strong></td></tr><tr><td><code>^[^a-zA-Z]</code></td><td>不以字母开头的行</td></tr><tr><td><code>/thing.$/</code></td><td>以thing加任意符号结尾的行</td></tr></tbody></table><hr><h4 id="5-全局命令-g-v"><a href="#5-全局命令-g-v" class="headerlink" title="5. 全局命令 (g/v)"></a><strong>5. 全局命令 (<code>g/v</code>)</strong></h4><ul><li>命令格式：m,ng&#x2F;re&#x2F;cmd，含义是<strong>从m行到n行中对于匹配re模式的行执行命令cmd</strong>. 如果作用范围是全文件(1,$)，m、n可以省略</li></ul><table><thead><tr><th>命令格式</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>g/re/p</code></td><td><strong>打印</strong>匹配 <code>re</code> 的行</td><td><code>g/error/p</code> → 显示含 “error” 的行</td></tr><tr><td><code>g/re/d</code></td><td><strong>删除</strong>匹配 <code>re</code> 的行</td><td><code>g/^$/d</code> → 删除所有空行</td></tr><tr><td><code>g/re/s/old/new/</code></td><td>对匹配 <code>re</code> 的行替换 <code>old</code>→<code>new</code></td><td><code>g/foo/s/bar/baz/</code> → 仅替换含 “foo” 的行中的 “bar”</td></tr><tr><td><code>v/re/p</code></td><td><strong>取反</strong>操作（不匹配 <code>re</code> 的行）</td><td><code>v/^$/p</code> → 打印非空行</td></tr></tbody></table><hr><h4 id="6-移动与复制"><a href="#6-移动与复制" class="headerlink" title="6. 移动与复制"></a><strong>6. 移动与复制</strong></h4><table><thead><tr><th>命令格式</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>m,nmd</code></td><td>将 <code>m</code> 到 <code>n</code> 行<strong>移动</strong>到 <code>d</code> 行后</td><td><code>2,4m5</code> → 2-4 行移到第 5 行后</td></tr><tr><td><code>m,ntd</code></td><td>将 <code>m</code> 到 <code>n</code> 行<strong>复制</strong>到 <code>d</code> 行后</td><td><code>1,3t$</code> → 复制 1-3 行到文件末尾</td></tr><tr><td><code>g/^/m0</code></td><td><strong>反转文件行序</strong>（每行移到第 0 行后）</td><td>结果：最后一行变第一行</td></tr></tbody></table><hr><h3 id="关键注意事项"><a href="#关键注意事项" class="headerlink" title="关键注意事项"></a><strong>关键注意事项</strong></h3><ol><li><strong>贪婪匹配</strong>：<code>r*</code> 是贪婪的（尽可能多匹配）。</li><li><strong>转义特殊字符</strong>：如 <code>\.</code> 匹配字面点号，<code>\\</code> 匹配反斜杠。</li><li><strong>全局命令范围</strong>：省略 <code>m,n</code> 时默认全文件（<code>1,$</code>）。</li><li>**替换中的 <code>&amp;</code>**：仅在 <code>s///</code> 右侧有效，代表匹配的全文。</li></ol><p>ed 的正则为现代工具（如 <code>sed</code>&#x2F;<code>grep</code>）奠定了基础，虽功能有限，但足够处理基础文本操作。</p><h2 id="sed流编辑器"><a href="#sed流编辑器" class="headerlink" title="sed流编辑器"></a>sed流编辑器</h2><p>以下是结合参考文献对sed知识点的系统总结，关键部分标注引用来源：</p><hr><h3 id="sed核心特性"><a href="#sed核心特性" class="headerlink" title="sed核心特性"></a><strong>sed核心特性</strong></h3><ol><li><p><strong>流编辑器本质</strong></p><ul><li>直接从<code>ed</code>发展而来，专为处理<strong>输入流</strong>设计（文件或管道数据）</li><li>单次扫描输入流，高效但无法回溯已处理行（局限性）</li><li>默认输出到stdout且<strong>不修改原文件</strong>（需重定向保存结果）</li></ul></li><li><p><strong>基础语法结构</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sed [选项] <span class="hljs-string">&#x27;编辑命令1;编辑命令2&#x27;</span> 输入文件<br></code></pre></td></tr></table></figure><ul><li>经典示例：<code>sed &#39;s/UNIX/Linux/g&#39; file</code> 全局替换文本</li><li>支持多命令组合：<code>sed &#39;s/foo/bar/; 10q&#39; file</code>（替换+显示前10行）</li></ul></li></ol><hr><h3 id="常用操作场景"><a href="#常用操作场景" class="headerlink" title="常用操作场景"></a><strong>常用操作场景</strong></h3><table><thead><tr><th>功能</th><th>命令示例</th><th>说明</th></tr></thead><tbody><tr><td><strong>文本替换</strong></td><td><code>sed &#39;s/old/new/g&#39; file</code></td><td>全局替换（加<code>g</code>标志）</td></tr><tr><td><strong>行范围操作</strong></td><td><code>sed &#39;10q&#39; file</code></td><td>显示前10行（<code>q</code>退出命令）</td></tr><tr><td><strong>模式过滤</strong></td><td><code>sed -n &#39;/pattern/p&#39; file</code></td><td>仅显示匹配行（<code>-n</code>关闭默认输出，等效<code>grep</code>）</td></tr><tr><td><strong>目录列表过滤</strong></td><td>&#96;ls -l</td><td>sed -n ‘&#x2F;^d&#x2F;p’&#96;</td></tr><tr><td><strong>多模式范围输出</strong></td><td><code>sed -n &#39;/start/,/end/p&#39; file</code></td><td>打印两个模式间的所有行（如<code>/David/,/Emily/p</code>）</td></tr></tbody></table><hr><h3 id="关键选项与限制"><a href="#关键选项与限制" class="headerlink" title="关键选项与限制"></a><strong>关键选项与限制</strong></h3><ul><li><p><strong>选项</strong></p><ul><li><code>-n</code>：抑制默认输出，需显式用<code>p</code>命令打印</li><li><code>-e</code>：指定多个编辑命令（如<code>sed -e &#39;s/a/b/&#39; -e &#39;s/c/d/&#39;</code>）</li></ul></li><li><p><strong>局限性</strong></p><ul><li><strong>无法行运算</strong>：如<code>$-1d</code>非法，因sed是单向流处理器</li><li><strong>无交互模式</strong>：所有操作需通过命令预设</li></ul></li></ul><hr><h3 id="与管道的协同"><a href="#与管道的协同" class="headerlink" title="与管道的协同"></a><strong>与管道的协同</strong></h3><ul><li><p><strong>动态处理流数据</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">who</span> | sed <span class="hljs-string">&#x27;s/ .*//&#x27;</span>  <span class="hljs-comment"># 提取用户名（删除首个空格后的所有内容）</span><br></code></pre></td></tr></table></figure></li><li><p><strong>组合其他命令</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&quot;error&quot;</span> log.txt | sed <span class="hljs-string">&#x27;s/ERROR/CRITICAL/g&#x27;</span>  <span class="hljs-comment"># 二次过滤替换</span><br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="扩展应用"><a href="#扩展应用" class="headerlink" title="扩展应用"></a><strong>扩展应用</strong></h3><ul><li><p><strong>批量编辑文件</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sed -i.bak <span class="hljs-string">&#x27;s/old/new/g&#x27;</span> *.txt  <span class="hljs-comment"># 直接修改文件并备份（`-i`选项）</span><br></code></pre></td></tr></table></figure></li><li><p><strong>条件删除</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sed <span class="hljs-string">&#x27;/pattern/d&#x27;</span> file  <span class="hljs-comment"># 删除匹配行（如空行`/^$/d`）</span><br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="设计哲学"><a href="#设计哲学" class="headerlink" title="设计哲学"></a><strong>设计哲学</strong></h3><ul><li><strong>UNIX工具链思维</strong>：专注单一功能（文本转换），通过管道与其他工具（如<code>grep</code>、<code>awk</code>）协作[][6]</li><li><strong>高效性</strong>：单次流处理比交互式编辑器更适合自动化任务[][6]</li></ul><p>通过掌握这些核心模式，可高效完成90%的文本处理需求。进阶学习可参考GNU sed手册[6]中的正则表达式和保持空间（hold space）技巧。</p><h2 id="grep过滤器"><a href="#grep过滤器" class="headerlink" title="grep过滤器"></a>grep过滤器</h2><p><code>grep</code> 是 Linux&#x2F;Unix 中最强大的<strong>文本过滤工具</strong>之一，常与管道符 <code>|</code> 和其他命令（如 <code>ls</code>、<code>sed</code>、<code>sort</code>）结合使用</p><hr><h3 id="1-grep-基础语法"><a href="#1-grep-基础语法" class="headerlink" title="1. grep 基础语法"></a><strong>1. <code>grep</code> 基础语法</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep [选项] <span class="hljs-string">&#x27;搜索模式&#x27;</span> 文件名<br></code></pre></td></tr></table></figure><ul><li><strong>核心功能</strong>：从文件或输入流中筛选<strong>包含指定模式的行</strong>。</li><li><strong>常用选项</strong>：<ul><li><code>-i</code>：忽略大小写（如 <code>grep -i &quot;error&quot; log.txt</code>）。</li><li><code>-v</code>：反向匹配（显示<strong>不包含</strong>模式的行）。</li><li><code>-n</code>：显示匹配行的行号。</li><li><code>-c</code>：统计匹配行的数量。</li><li><code>-r</code>：递归搜索目录（如 <code>grep -r &quot;main&quot; /src</code>）。</li></ul></li></ul><hr><h3 id="示例-1：搜索文件内容"><a href="#示例-1：搜索文件内容" class="headerlink" title="示例 1：搜索文件内容"></a><strong>示例 1：搜索文件内容</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&#x27;^void&#x27;</span> sig.c<br></code></pre></td></tr></table></figure><ul><li><strong>作用</strong>：在 <code>sig.c</code> 文件中查找<strong>以 <code>void</code> 开头的行</strong>。</li></ul><h3 id="示例-2：过滤目录"><a href="#示例-2：过滤目录" class="headerlink" title="示例 2：过滤目录"></a><strong>示例 2：过滤目录</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> -l | grep <span class="hljs-string">&#x27;^d&#x27;</span><br></code></pre></td></tr></table></figure><ul><li><strong>作用</strong>：列出当前目录下的<strong>子目录</strong>（不包括文件）。</li><li><strong>原理</strong>：<ul><li><code>ls -l</code> 的输出中，目录行以 <code>d</code> 开头（如 <code>drwxr-xr-x</code>）。</li><li><code>^d</code> 匹配行首的 <code>d</code> 字符。</li></ul></li></ul><h3 id="示例-3：提取目录名"><a href="#示例-3：提取目录名" class="headerlink" title="示例 3：提取目录名"></a><strong>示例 3：提取目录名</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> -l | grep <span class="hljs-string">&#x27;^d&#x27;</span> | sed <span class="hljs-string">&#x27;s/.* //&#x27;</span><br></code></pre></td></tr></table></figure><ul><li><strong>作用</strong>：仅输出子目录名（去掉权限、时间等冗余信息）。</li><li><strong>分步解析</strong>：<ol><li><code>ls -l | grep &#39;^d&#39;</code>：筛选目录行。</li><li><code>sed &#39;s/.* //&#39;</code>：<strong>删除行中最后一个空格前的所有内容</strong>（保留目录名）。</li></ol></li></ul><hr><h3 id="3-grep-家族对比"><a href="#3-grep-家族对比" class="headerlink" title="3. grep 家族对比"></a><strong>3. <code>grep</code> 家族对比</strong></h3><table><thead><tr><th>命令</th><th>全称</th><th>特点</th></tr></thead><tbody><tr><td><code>grep</code></td><td>Global Regular Expression Print</td><td>基础版，支持<strong>基本正则表达式</strong>（BRE）。</td></tr><tr><td><code>egrep</code></td><td>Extended GREP</td><td>支持<strong>扩展正则表达式</strong>（ERE），如 <code>+</code>、<code>?</code>、&#96;</td></tr><tr><td><code>fgrep</code></td><td>Fixed-string GREP</td><td>仅匹配固定字符串（<strong>不支持正则</strong>），但处理大文件时速度最快<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="`fgrep` 相当于 `grep -F`，适合精确匹配固定字符串（如日志中的错误码）。">[2]</span></a></sup>。</td></tr></tbody></table><h3 id="典型场景"><a href="#典型场景" class="headerlink" title="典型场景"></a><strong>典型场景</strong></h3><ol><li><strong><code>egrep</code> 的扩展功能</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">egrep <span class="hljs-string">&#x27;error|warn&#x27;</span> log.txt  <span class="hljs-comment"># 同时匹配 &quot;error&quot; 或 &quot;warn&quot;</span><br></code></pre></td></tr></table></figure></li><li><strong><code>fgrep</code> 的高效性</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fgrep -c <span class="hljs-string">&quot;404&quot;</span> access.log  <span class="hljs-comment"># 快速统计 404 错误出现的次数</span><br></code></pre></td></tr></table></figure></li></ol><hr><h3 id="4-结合其他过滤器"><a href="#4-结合其他过滤器" class="headerlink" title="4. 结合其他过滤器"></a><strong>4. 结合其他过滤器</strong></h3><h3 id="4-1-sort（排序）"><a href="#4-1-sort（排序）" class="headerlink" title="4.1 sort（排序）"></a><strong>4.1 <code>sort</code>（排序）</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> | <span class="hljs-built_in">sort</span>          <span class="hljs-comment"># 按字母排序文件名</span><br>grep <span class="hljs-string">&quot;error&quot;</span> log.txt | <span class="hljs-built_in">sort</span> -u  <span class="hljs-comment"># 去重后排序</span><br></code></pre></td></tr></table></figure><h3 id="4-2-head-tail（首尾行）"><a href="#4-2-head-tail（首尾行）" class="headerlink" title="4.2 head &#x2F; tail（首尾行）"></a><strong>4.2 <code>head</code> &#x2F; <code>tail</code>（首尾行）</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&quot;Exception&quot;</span> server.log | <span class="hljs-built_in">tail</span> -5  <span class="hljs-comment"># 显示最后5个异常</span><br>grep <span class="hljs-string">&quot;login&quot;</span> auth.log | <span class="hljs-built_in">head</span> -3       <span class="hljs-comment"># 显示前3次登录记录</span><br></code></pre></td></tr></table></figure><h3 id="4-3-组合实战"><a href="#4-3-组合实战" class="headerlink" title="4.3 组合实战"></a><strong>4.3 组合实战</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 统计日志中每个错误类型的出现次数（排序后取前5）</span><br>grep -o <span class="hljs-string">&quot;ERROR: .*&quot;</span> app.log | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -nr | <span class="hljs-built_in">head</span> -5<br></code></pre></td></tr></table></figure><ul><li><strong>步骤分解</strong>：<ol><li><code>grep -o</code>：提取所有 <code>ERROR: xxx</code> 内容。</li><li><code>sort</code>：排序以便 <code>uniq</code> 统计。</li><li><code>uniq -c</code>：计数。</li><li><code>sort -nr</code>：按计数降序。</li><li><code>head -5</code>：显示前5条。</li></ol></li></ul><hr><h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a><strong>总结</strong></h2><ul><li><strong><code>grep</code><strong>：文本过滤的瑞士军刀，核心是</strong>模式匹配</strong>。</li><li><strong>管道组合</strong>：与 <code>sed</code>、<code>sort</code>、<code>head</code>&#x2F;<code>tail</code> 联动可解决复杂问题。</li><li><strong>选择工具</strong>：<ul><li>简单搜索 → <code>grep</code> 或 <code>fgrep</code>。</li><li>复杂正则 → <code>egrep</code>。</li><li>需排序&#x2F;统计 → 结合 <code>sort | uniq -c</code>。</li></ul></li></ul><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><code>egrep</code> 相当于 <code>grep -E</code>，支持 <code>|</code>（或）、<code>+</code>（1次或多次）等扩展语法。 <a href="#fnref:1" rev="footnote" class="footnote-backref">↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><code>fgrep</code> 相当于 <code>grep -F</code>，适合精确匹配固定字符串（如日志中的错误码）。 <a href="#fnref:2" rev="footnote" class="footnote-backref">↩</a></span></span></li></ol></div></section></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Linux/" class="category-chain-item">Linux</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Linux/" class="print-no-link">#Linux</a> <a href="/tags/UNIX/" class="print-no-link">#UNIX</a> <a href="/tags/%E5%A4%8D%E4%B9%A0/" class="print-no-link">#复习</a></div></div><div class="license-box my-3"><div class="license-title"><div>UNIX系统复习-2</div><div>http://pzhwuhu.github.io/2025/05/30/UNIX系统复习-2/</div></div><div class="license-meta"><div class="license-meta-item"><div>本文作者</div><div>pzhwuhu</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2025年5月30日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2025年5月30日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-cc-by"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-cc-nc"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-cc-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2025/05/31/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-3/" title="UNIX系统复习-3"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">UNIX系统复习-3</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2025/05/27/UNIX%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A0-1/" title="UNIX系统复习-1"><span class="hidden-mobile">UNIX系统复习-1</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script>Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.5.1/Valine.min.js",(function(){var i=Object.assign({appId:"cp3oK6SJdvk7QCx0TiMpNSdI-gzGzoHsz",appKey:"B9u5rSWtXwzrQl56fuCE0o9M",path:"window.location.pathname",placeholder:"留下你的足迹吧，超多emoji可用噢，gravatar邮箱或qq邮箱自动获取头像",avatar:"retro",meta:["nick","mail","link"],requiredFields:["nick"],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:"",emojiCDN:"https://valine-emoji.bili33.top/",emojiMaps:{bilibilitv2:"bilibilitv/[tv_doge].png",bilibilitv3:"bilibilitv/[tv_亲亲].png",bilibilitv4:"bilibilitv/[tv_偷笑].png",bilibilitv5:"bilibilitv/[tv_再见].png",bilibilitv6:"bilibilitv/[tv_冷漠].png",bilibilitv7:"bilibilitv/[tv_发怒].png",bilibilitv8:"bilibilitv/[tv_发财].png",bilibilitv9:"bilibilitv/[tv_可爱].png",bilibilitv10:"bilibilitv/[tv_吐血].png",bilibilitv11:"bilibilitv/[tv_呆].png",bilibilitv12:"bilibilitv/[tv_呕吐].png",bilibilitv13:"bilibilitv/[tv_困].png",bilibilitv14:"bilibilitv/[tv_坏笑].png",bilibilitv15:"bilibilitv/[tv_大佬].png",bilibilitv16:"bilibilitv/[tv_大哭].png",bilibilitv17:"bilibilitv/[tv_委屈].png",bilibilitv18:"bilibilitv/[tv_害羞].png",bilibilitv19:"bilibilitv/[tv_尴尬].png",bilibilitv20:"bilibilitv/[tv_微笑].png",bilibilitv21:"bilibilitv/[tv_思考].png",bilibilitv22:"bilibilitv/[tv_惊吓].png",bilibilitv23:"bilibilitv/[tv_打脸].png",bilibilitv24:"bilibilitv/[tv_抓狂].png",bilibilitv25:"bilibilitv/[tv_抠鼻].png",bilibilitv26:"bilibilitv/[tv_斜眼笑].png",bilibilitv27:"bilibilitv/[tv_无奈].png",bilibilitv28:"bilibilitv/[tv_晕].png",bilibilitv29:"bilibilitv/[tv_流汗].png",bilibilitv30:"bilibilitv/[tv_流泪].png",bilibilitv31:"bilibilitv/[tv_流鼻血].png",bilibilitv32:"bilibilitv/[tv_点赞].png",bilibilitv33:"bilibilitv/[tv_生气].png",bilibilitv34:"bilibilitv/[tv_生病].png",bilibilitv35:"bilibilitv/[tv_疑问].png",bilibilitv36:"bilibilitv/[tv_白眼].png",bilibilitv37:"bilibilitv/[tv_皱眉].png",bilibilitv38:"bilibilitv/[tv_目瞪口呆].png",bilibilitv39:"bilibilitv/[tv_睡着].png",bilibilitv40:"bilibilitv/[tv_笑哭].png",bilibilitv41:"bilibilitv/[tv_腼腆].png",bilibilitv42:"bilibilitv/[tv_色].png",bilibilitv43:"bilibilitv/[tv_调侃].png",bilibilitv44:"bilibilitv/[tv_调皮].png",bilibilitv45:"bilibilitv/[tv_鄙视].png",bilibilitv46:"bilibilitv/[tv_闭嘴].png",bilibilitv47:"bilibilitv/[tv_难过].png",bilibilitv48:"bilibilitv/[tv_馋].png",bilibilitv49:"bilibilitv/[tv_鬼脸].png",bilibilitv50:"bilibilitv/[tv_黑人问号].png",bilibilitv51:"bilibilitv/[tv_鼓掌].png",bilibili22332:"bilibili2233/[2233娘_卖萌].png",bilibili22333:"bilibili2233/[2233娘_吃惊].png",bilibili22334:"bilibili2233/[2233娘_吐魂].png",bilibili22335:"bilibili2233/[2233娘_喝水].png",bilibili22336:"bilibili2233/[2233娘_困惑].png",bilibili22337:"bilibili2233/[2233娘_大哭].png",bilibili22338:"bilibili2233/[2233娘_大笑].png",bilibili22339:"bilibili2233/[2233娘_委屈].png",bilibili223310:"bilibili2233/[2233娘_怒].png",bilibili223311:"bilibili2233/[2233娘_无言].png",bilibili223312:"bilibili2233/[2233娘_汗].png",bilibili223313:"bilibili2233/[2233娘_疑问].png",bilibili223314:"bilibili2233/[2233娘_第一].png",bilibili223315:"bilibili2233/[2233娘_耶].png",bilibili223316:"bilibili2233/[2233娘_郁闷].png","Tieba-New2":"Tieba-New/image_emoticon.png","Tieba-New3":"Tieba-New/image_emoticon10.png","Tieba-New4":"Tieba-New/image_emoticon100.png","Tieba-New14":"Tieba-New/image_emoticon11.png","Tieba-New31":"Tieba-New/image_emoticon13.png","Tieba-New32":"Tieba-New/image_emoticon14.png","Tieba-New33":"Tieba-New/image_emoticon15.png","Tieba-New34":"Tieba-New/image_emoticon16.png","Tieba-New35":"Tieba-New/image_emoticon17.png","Tieba-New36":"Tieba-New/image_emoticon18.png","Tieba-New37":"Tieba-New/image_emoticon19.png","Tieba-New38":"Tieba-New/image_emoticon2.png","Tieba-New39":"Tieba-New/image_emoticon20.png","Tieba-New40":"Tieba-New/image_emoticon21.png","Tieba-New41":"Tieba-New/image_emoticon22.png","Tieba-New42":"Tieba-New/image_emoticon23.png","Tieba-New43":"Tieba-New/image_emoticon24.png","Tieba-New44":"Tieba-New/image_emoticon25.png","Tieba-New45":"Tieba-New/image_emoticon26.png","Tieba-New46":"Tieba-New/image_emoticon27.png","Tieba-New47":"Tieba-New/image_emoticon28.png","Tieba-New48":"Tieba-New/image_emoticon29.png","Tieba-New49":"Tieba-New/image_emoticon3.png","Tieba-New50":"Tieba-New/image_emoticon30.png","Tieba-New51":"Tieba-New/image_emoticon31.png","Tieba-New52":"Tieba-New/image_emoticon32.png","Tieba-New53":"Tieba-New/image_emoticon33.png","Tieba-New54":"Tieba-New/image_emoticon34.png","Tieba-New55":"Tieba-New/image_emoticon35.png","Tieba-New56":"Tieba-New/image_emoticon36.png","Tieba-New57":"Tieba-New/image_emoticon37.png","Tieba-New58":"Tieba-New/image_emoticon38.png","Tieba-New59":"Tieba-New/image_emoticon39.png","Tieba-New60":"Tieba-New/image_emoticon4.png","Tieba-New61":"Tieba-New/image_emoticon40.png","Tieba-New62":"Tieba-New/image_emoticon41.png","Tieba-New63":"Tieba-New/image_emoticon42.png","Tieba-New64":"Tieba-New/image_emoticon43.png","Tieba-New65":"Tieba-New/image_emoticon44.png","Tieba-New66":"Tieba-New/image_emoticon45.png","Tieba-New67":"Tieba-New/image_emoticon46.png","Tieba-New68":"Tieba-New/image_emoticon47.png","Tieba-New69":"Tieba-New/image_emoticon48.png","Tieba-New70":"Tieba-New/image_emoticon49.png","Tieba-New71":"Tieba-New/image_emoticon5.png","Tieba-New72":"Tieba-New/image_emoticon50.png","Tieba-New73":"Tieba-New/image_emoticon6.png","Tieba-New74":"Tieba-New/image_emoticon66.png","Tieba-New75":"Tieba-New/image_emoticon67.png","Tieba-New76":"Tieba-New/image_emoticon68.png","Tieba-New77":"Tieba-New/image_emoticon69.png","Tieba-New78":"Tieba-New/image_emoticon7.png","Tieba-New79":"Tieba-New/image_emoticon70.png","Tieba-New80":"Tieba-New/image_emoticon71.png","Tieba-New81":"Tieba-New/image_emoticon72.png","Tieba-New82":"Tieba-New/image_emoticon73.png","Tieba-New83":"Tieba-New/image_emoticon74.png","Tieba-New84":"Tieba-New/image_emoticon75.png","Tieba-New85":"Tieba-New/image_emoticon76.png","Tieba-New86":"Tieba-New/image_emoticon77.png","Tieba-New87":"Tieba-New/image_emoticon78.png","Tieba-New88":"Tieba-New/image_emoticon79.png","Tieba-New89":"Tieba-New/image_emoticon8.png","Tieba-New90":"Tieba-New/image_emoticon80.png","Tieba-New91":"Tieba-New/image_emoticon81.png","Tieba-New92":"Tieba-New/image_emoticon82.png","Tieba-New93":"Tieba-New/image_emoticon83.png","Tieba-New94":"Tieba-New/image_emoticon84.png","Tieba-New95":"Tieba-New/image_emoticon85.png","Tieba-New96":"Tieba-New/image_emoticon86.png","Tieba-New97":"Tieba-New/image_emoticon87.png","Tieba-New98":"Tieba-New/image_emoticon88.png","Tieba-New99":"Tieba-New/image_emoticon89.png","Tieba-New100":"Tieba-New/image_emoticon9.png","Tieba-New101":"Tieba-New/image_emoticon90.png","Tieba-New102":"Tieba-New/image_emoticon91.png","Tieba-New103":"Tieba-New/image_emoticon92.png","Tieba-New104":"Tieba-New/image_emoticon93.png","Tieba-New105":"Tieba-New/image_emoticon94.png","Tieba-New106":"Tieba-New/image_emoticon95.png","Tieba-New107":"Tieba-New/image_emoticon96.png","Tieba-New108":"Tieba-New/image_emoticon97.png","Tieba-New109":"Tieba-New/image_emoticon98.png","Tieba-New110":"Tieba-New/image_emoticon99.png",weibo2:"weibo/d_aoteman.png",weibo15:"weibo/d_doge.png",weibo16:"weibo/d_erha.png",weibo40:"weibo/d_miao.png",weibo49:"weibo/d_shenshou.png",weibo65:"weibo/d_xiongmao.png",weibo74:"weibo/d_zhutou.png",weibo75:"weibo/d_zuiyou.png",weibo76:"weibo/emoji_0x1f31f.png",weibo77:"weibo/emoji_0x1f349.png",weibo78:"weibo/emoji_0x1f357.png",weibo79:"weibo/emoji_0x1f384.png",weibo80:"weibo/emoji_0x1f44f.png",weibo81:"weibo/emoji_0x1f47b.png",weibo82:"weibo/emoji_0x1f47f.png",weibo83:"weibo/emoji_0x1f48a.png",weibo84:"weibo/emoji_0x1f4a3.png",weibo85:"weibo/emoji_0x1f4a9.png",weibo86:"weibo/emoji_0x1f631.png",weibo87:"weibo/emoji_0x1f643.png",weibo88:"weibo/emoji_0x1f645.png",weibo89:"weibo/emoji_0x1f648.png",weibo90:"weibo/emoji_0x1f649.png",weibo91:"weibo/emoji_0x1f64a.png",weibo92:"weibo/emoji_0x1f64b.png",weibo93:"weibo/emoji_0x1f64f.png",weibo94:"weibo/emoji_0x1f913.png",weibo95:"weibo/emoji_0x1f917.png",weibo96:"weibo/emoji_0x26a1.png",weibo97:"weibo/h_buyao.png",weibo98:"weibo/h_good.png",weibo99:"weibo/h_haha.png",weibo100:"weibo/h_jiayou.png",weibo101:"weibo/h_lai.png",weibo102:"weibo/h_ok.png",weibo103:"weibo/h_quantou.png",weibo105:"weibo/h_woshou.png",weibo106:"weibo/h_ye.png",weibo107:"weibo/h_zan.png",weibo108:"weibo/h_zuoyi.png","HONKAI3-Star1":"HONKAI3-Star/1.gif","HONKAI3-Star2":"HONKAI3-Star/10.gif","HONKAI3-Star3":"HONKAI3-Star/11.gif","HONKAI3-Star4":"HONKAI3-Star/12.gif","HONKAI3-Star5":"HONKAI3-Star/13.gif","HONKAI3-Star6":"HONKAI3-Star/14.gif","HONKAI3-Star7":"HONKAI3-Star/15.gif","HONKAI3-Star8":"HONKAI3-Star/16.gif","HONKAI3-Star9":"HONKAI3-Star/2.gif","HONKAI3-Star10":"HONKAI3-Star/3.gif","HONKAI3-Star11":"HONKAI3-Star/4.gif","HONKAI3-Star12":"HONKAI3-Star/5.gif","HONKAI3-Star13":"HONKAI3-Star/6.gif","HONKAI3-Star14":"HONKAI3-Star/7.gif","HONKAI3-Star15":"HONKAI3-Star/8.gif","HONKAI3-Star16":"HONKAI3-Star/9.gif","HONKAI3-Daily1":"HONKAI3-Daily/1.gif","HONKAI3-Daily2":"HONKAI3-Daily/10.gif","HONKAI3-Daily3":"HONKAI3-Daily/11.gif","HONKAI3-Daily4":"HONKAI3-Daily/12.gif","HONKAI3-Daily5":"HONKAI3-Daily/13.gif","HONKAI3-Daily6":"HONKAI3-Daily/14.gif","HONKAI3-Daily7":"HONKAI3-Daily/15.gif","HONKAI3-Daily8":"HONKAI3-Daily/16.gif","HONKAI3-Daily9":"HONKAI3-Daily/2.gif","HONKAI3-Daily10":"HONKAI3-Daily/3.gif","HONKAI3-Daily11":"HONKAI3-Daily/4.gif","HONKAI3-Daily12":"HONKAI3-Daily/5.gif","HONKAI3-Daily13":"HONKAI3-Daily/6.gif","HONKAI3-Daily14":"HONKAI3-Daily/7.gif","HONKAI3-Daily15":"HONKAI3-Daily/8.gif","HONKAI3-Daily16":"HONKAI3-Daily/9.gif","Tsuri-me-ju_mimi1":"Tsuri-me-ju_mimi/10753776_key@2x.png","Tsuri-me-ju_mimi2":"Tsuri-me-ju_mimi/10753777_key@2x.png","Tsuri-me-ju_mimi3":"Tsuri-me-ju_mimi/10753778_key@2x.png","Tsuri-me-ju_mimi12":"Tsuri-me-ju_mimi/10753787_key@2x.png","Tsuri-me-ju_mimi13":"Tsuri-me-ju_mimi/10753788_key@2x.png","Tsuri-me-ju_mimi14":"Tsuri-me-ju_mimi/10753789_key@2x.png","Tsuri-me-ju_mimi15":"Tsuri-me-ju_mimi/10753790_key@2x.png","Tsuri-me-ju_mimi16":"Tsuri-me-ju_mimi/10753791_key@2x.png","Tsuri-me-ju_mimi36":"Tsuri-me-ju_mimi/10753811_key@2x.png","Tsuri-me-ju_mimi37":"Tsuri-me-ju_mimi/10753812_key@2x.png","Tsuri-me-ju_mimi38":"Tsuri-me-ju_mimi/10753813_key@2x.png","Tsuri-me-ju_mimi40":"Tsuri-me-ju_mimi/10753815_key@2x.png"},enableQQ:!0,avatar_cdn:"https://cravatar.cn/avatar/",visitor:!0},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vemoji",(()=>{const i=document.createElement("style");i.innerHTML="\n            #valine .vemoji {\n              width: 40px !important;  /* 根据需要调整宽度 */\n              height: 40px !important; /* 根据需要调整高度 */\n            }\n          ",document.head.appendChild(i)})),Fluid.utils.waitElementVisible("#valine .vcontent",(()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)}))}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div style="font-size:.85rem"><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div><span>79k</span></div></footer><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script>window.MathJax?(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise()):window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}},loader:{load:["ui/lazy"]},options:{renderActions:{insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach((t=>{let e=t.parentNode;"li"===e.nodeName.toLowerCase()&&e.parentNode.classList.add("has-jax")}))},"",!1]}}},Fluid.events.registerRefreshCallback((function(){"MathJax"in window&&MathJax.startup.document&&"function"==typeof MathJax.startup.document.state&&(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise())}))</script><script src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/DynamicRibbon.min.js"></script><script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/star.min.js"></script><script src="//cdn.jsdelivr.net/gh/EmoryHuang/BlogBeautify@1.1/love.min.js"></script><script src="//cdn.jsdelivr.net/npm/highlight.js@11.5.1/styles/monokai.min.css.js"></script><script src="/js/scrollAnimation.js"></script><script src="/js/loading.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>